<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Base trait for random number generators and random data sources"><title>TryRng in rand_core - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-ca0dd0c4.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="rand_core" data-themes="" data-resource-suffix="" data-rustdoc-version="1.93.1 (01f6ddf75 2026-02-11)" data-channel="1.93.1" data-search-js="search-9e2438ea.js" data-stringdex-js="stringdex-a3946164.js" data-settings-js="settings-c38705f0.js" ><script src="../static.files/storage-e2aeef58.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-a410ff4d.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-263c88ec.css"></noscript><link rel="icon" href="https://www.rust-lang.org/favicon.ico"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">TryRng</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../rand_core/index.html"><img src="https://www.rust-lang.org/logos/rust-logo-128x128-blk.png" alt="logo"></a><h2><a href="../rand_core/index.html">rand_<wbr>core</a><span class="version">0.10.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">TryRng</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#requirements" title="Requirements">Requirements</a><ul><li><a href="#quality-and-length" title="Quality and length">Quality and length</a></li><li><a href="#reproducibility" title="Reproducibility">Reproducibility</a></li></ul></li><li><a href="#usage" title="Usage">Usage</a></li><li><a href="#implementing-tryrng" title="Implementing `TryRng`">Implementing <code>TryRng</code></a></li></ul><h3><a href="#required-associated-types">Required Associated Types</a></h3><ul class="block"><li><a href="#associatedtype.Error" title="Error">Error</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.try_fill_bytes" title="try_fill_bytes">try_fill_bytes</a></li><li><a href="#tymethod.try_next_u32" title="try_next_u32">try_next_u32</a></li><li><a href="#tymethod.try_next_u64" title="try_next_u64">try_next_u64</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="index.html">In crate rand_<wbr>core</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="index.html">rand_core</a></div><h1>Trait <span class="trait">TryRng</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/rand_core/lib.rs.html#189-201">Source</a> </span></div><pre class="rust item-decl"><code>pub trait TryRng {
    type <a href="#associatedtype.Error" class="associatedtype">Error</a>: <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/error/trait.Error.html" title="trait core::error::Error">Error</a>;

    // Required methods
    fn <a href="#tymethod.try_next_u32" class="fn">try_next_u32</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u32.html">u32</a>, Self::<a class="associatedtype" href="trait.TryRng.html#associatedtype.Error" title="type rand_core::TryRng::Error">Error</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.try_next_u64" class="fn">try_next_u64</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u64.html">u64</a>, Self::<a class="associatedtype" href="trait.TryRng.html#associatedtype.Error" title="type rand_core::TryRng::Error">Error</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.try_fill_bytes" class="fn">try_fill_bytes</a>(&amp;mut self, dst: &amp;mut [<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u8.html">u8</a>]) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, Self::<a class="associatedtype" href="trait.TryRng.html#associatedtype.Error" title="type rand_core::TryRng::Error">Error</a>&gt;;
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Base trait for random number generators and random data sources</p>
<p>This trait provides a base interface designed to support efficient usage of
(<code>u32</code>, <code>u64</code>) word generators, block generators and random data sources.
There is no required relationship between the output of each method or any
requirement to use all generated random bits; for example an implementation
of <a href="trait.TryRng.html#tymethod.try_fill_bytes"><code>try_fill_bytes</code></a> may discard some generated bytes
to avoid storing a partially used word or block.</p>
<h2 id="requirements"><a class="doc-anchor" href="#requirements">§</a>Requirements</h2><h4 id="quality-and-length"><a class="doc-anchor" href="#quality-and-length">§</a>Quality and length</h4>
<p>Implementions should produce bits uniformly: each output value should be
equally likely, without observable patterns in successive outputs or
between the output streams of multiple instances of an implementation using
different seeds or streams (where supported by the implementation).</p>
<p>Pathological implementations (e.g. constant or counting generators which
rarely change some bits) may cause issues in consumers of random data, for
example dead-locks in rejection samplers and obviously non-random output
(e.g. a counting generator may result in apparently-constant output from a
uniform-ranged distribution).</p>
<p>Cryptographically unpredictable output is not a requirement of this trait,
but is a requirement of <a href="trait.TryCryptoRng.html" title="trait rand_core::TryCryptoRng"><code>TryCryptoRng</code></a>.</p>
<p>In practice, most implementations are pseudo-random number generators with a
finite <em>period</em> or <em>cycle length</em>, and (among non-cryptographic PRNGs)
statistical anomalies may appear long before a cycle occurs. An
implementation should ensure its period is sufficiently long that no
anomalies are likely to appear in usage and/or document its limitations.</p>
<p>For more on PRNG quality and period, see <a href="https://rust-random.github.io/book/guide-rngs.html#quality">The Rust Rand Book: Quality</a>.</p>
<h4 id="reproducibility"><a class="doc-anchor" href="#reproducibility">§</a>Reproducibility</h4>
<p>Algorithmic generators implementing <a href="trait.SeedableRng.html" title="trait rand_core::SeedableRng"><code>SeedableRng</code></a> should normally have
<em>portable, reproducible</em> output, i.e. fix Endianness when converting values
to avoid platform differences, and avoid making any changes which affect
output (except by communicating that the release has breaking changes).
See also <a href="https://rust-random.github.io/book/crate-reprod.html">The Rust Rand Book: Reproducibility</a>.</p>
<h2 id="usage"><a class="doc-anchor" href="#usage">§</a>Usage</h2>
<p>Often, usage of the infallible trait <a href="trait.Rng.html" title="trait rand_core::Rng"><code>Rng</code></a> or its extension trait
<a href="https://docs.rs/rand/latest/rand/trait.Rng.html"><code>rand::Rng</code></a> is preferred to direct usage of <code>TryRng</code>.
Many implementations of <code>TryRng</code> (those with <code>type Error = <a href="enum.Infallible.html" title="enum rand_core::Infallible">Infallible</a></code>)
already implement <a href="trait.Rng.html" title="trait rand_core::Rng"><code>Rng</code></a>; in other cases <a href="struct.UnwrapErr.html" title="struct rand_core::UnwrapErr"><code>UnwrapErr</code></a> may be used to obtain
an implementation of <a href="trait.Rng.html" title="trait rand_core::Rng"><code>Rng</code></a>.</p>
<h2 id="implementing-tryrng"><a class="doc-anchor" href="#implementing-tryrng">§</a>Implementing <code>TryRng</code></h2>
<p>Most algorithmic generators (i.e. pseudo-random number generators or PRNGs)
never fail; in this case type <code>Error</code> should be <a href="enum.Infallible.html" title="enum rand_core::Infallible"><code>Infallible</code></a>; in this case
trait <code>Rng</code> is implemented automatically. Cycling is not considered an
error.</p>
<p>Small PRNGs often yield either <code>u32</code> or <code>u64</code> natively.
Module <a href="utils/index.html" title="mod rand_core::utils"><code>crate::utils</code></a> provides utilities to help implement other methods.</p>
<p>Byte sources may implement <a href="trait.TryRng.html#tymethod.try_fill_bytes"><code>try_fill_bytes</code></a>
natively.
Module <a href="utils/index.html" title="mod rand_core::utils"><code>crate::utils</code></a> provides utilities to help implement other methods.</p>
<p>Block generators (which produce <code>[u32; N]</code> or <code>[u64; N]</code> for some fixed <code>N</code>)
should make use of the <a href="block/index.html" title="mod rand_core::block"><code>crate::block</code></a> module.</p>
<p>With regards to other traits:</p>
<ul>
<li><strong>Do not</strong> implement <a href="https://doc.rust-lang.org/1.93.1/core/default/trait.Default.html" title="trait core::default::Default"><code>Default</code></a> for seedable pseudorandom generators,
though the trait may be implemented for stateless interfaces and
auto-seeding generators.</li>
<li><strong>Do</strong> implement <a href="trait.SeedableRng.html" title="trait rand_core::SeedableRng"><code>SeedableRng</code></a> for seedable pseudorandom generators. See
<a href="#reproducibility">Reproducibility</a> above.</li>
<li>Implement <a href="https://doc.rust-lang.org/1.93.1/core/clone/trait.Clone.html" title="trait core::clone::Clone"><code>Clone</code></a> for non-cryptographic PRNGs but consider not doing so
for cryptographic generators to avoid the risk of key-stream duplication.</li>
<li><strong>Do not</strong> implement <a href="https://doc.rust-lang.org/1.93.1/core/marker/trait.Copy.html" title="trait core::marker::Copy"><code>Copy</code></a> since accidental copies may cause repeated
values.</li>
<li>Implement <a href="https://doc.rust-lang.org/1.93.1/core/fmt/trait.Debug.html" title="trait core::fmt::Debug"><code>Debug</code></a>, except that cryptographic PRNGs
should use a custom implementation which avoids leaking internal state (or
the subset of this derived from the key).</li>
<li><a href="https://doc.rust-lang.org/1.93.1/core/cmp/trait.Eq.html" title="trait core::cmp::Eq"><code>Eq</code></a> and <a href="https://doc.rust-lang.org/1.93.1/core/cmp/trait.PartialEq.html" title="trait core::cmp::PartialEq"><code>PartialEq</code></a> could be implemented, but are probably not useful.</li>
</ul>
</div></details><h2 id="required-associated-types" class="section-header">Required Associated Types<a href="#required-associated-types" class="anchor">§</a></h2><div class="methods"><details class="toggle" open><summary><section id="associatedtype.Error" class="method"><a class="src rightside" href="../src/rand_core/lib.rs.html#193">Source</a><h4 class="code-header">type <a href="#associatedtype.Error" class="associatedtype">Error</a>: <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/error/trait.Error.html" title="trait core::error::Error">Error</a></h4></section></summary><div class="docblock"><p>The type returned in the event of a RNG error.</p>
<p>Use type <a href="enum.Infallible.html" title="enum rand_core::Infallible"><code>Infallible</code></a> (re-exported by <code>rand_core</code>) for infallible implementations.</p>
</div></details></div><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.try_next_u32" class="method"><a class="src rightside" href="../src/rand_core/lib.rs.html#196">Source</a><h4 class="code-header">fn <a href="#tymethod.try_next_u32" class="fn">try_next_u32</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u32.html">u32</a>, Self::<a class="associatedtype" href="trait.TryRng.html#associatedtype.Error" title="type rand_core::TryRng::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Return the next random <code>u32</code>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.try_next_u64" class="method"><a class="src rightside" href="../src/rand_core/lib.rs.html#198">Source</a><h4 class="code-header">fn <a href="#tymethod.try_next_u64" class="fn">try_next_u64</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u64.html">u64</a>, Self::<a class="associatedtype" href="trait.TryRng.html#associatedtype.Error" title="type rand_core::TryRng::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Return the next random <code>u64</code>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.try_fill_bytes" class="method"><a class="src rightside" href="../src/rand_core/lib.rs.html#200">Source</a><h4 class="code-header">fn <a href="#tymethod.try_fill_bytes" class="fn">try_fill_bytes</a>(&amp;mut self, dst: &amp;mut [<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.u8.html">u8</a>]) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.93.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.93.1/core/primitive.unit.html">()</a>, Self::<a class="associatedtype" href="trait.TryRng.html#associatedtype.Error" title="type rand_core::TryRng::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Fill <code>dst</code> entirely with random data.</p>
</div></details></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><details class="toggle implementors-toggle"><summary><section id="impl-TryRng-for-R" class="impl"><a class="src rightside" href="../src/rand_core/lib.rs.html#203-223">Source</a><a href="#impl-TryRng-for-R" class="anchor">§</a><h3 class="code-header">impl&lt;R: <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/ops/deref/trait.DerefMut.html" title="trait core::ops::deref::DerefMut">DerefMut</a>&gt; <a class="trait" href="trait.TryRng.html" title="trait rand_core::TryRng">TryRng</a> for R<div class="where">where
    R::<a class="associatedtype" href="https://doc.rust-lang.org/1.93.1/core/ops/deref/trait.Deref.html#associatedtype.Target" title="type core::ops::deref::Deref::Target">Target</a>: <a class="trait" href="trait.TryRng.html" title="trait rand_core::TryRng">TryRng</a>,</div></h3></section></summary><div class="impl-items"><section id="associatedtype.Error-1" class="associatedtype trait-impl"><a class="src rightside" href="../src/rand_core/lib.rs.html#207">Source</a><a href="#associatedtype.Error-1" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Error" class="associatedtype">Error</a> = &lt;&lt;R as <a class="trait" href="https://doc.rust-lang.org/1.93.1/core/ops/deref/trait.Deref.html" title="trait core::ops::deref::Deref">Deref</a>&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.93.1/core/ops/deref/trait.Deref.html#associatedtype.Target" title="type core::ops::deref::Deref::Target">Target</a> as <a class="trait" href="trait.TryRng.html" title="trait rand_core::TryRng">TryRng</a>&gt;::<a class="associatedtype" href="trait.TryRng.html#associatedtype.Error" title="type rand_core::TryRng::Error">Error</a></h4></section></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryRng-for-UnwrapErr%3CR%3E" class="impl"><a class="src rightside" href="../src/rand_core/unwrap_err.rs.html#32-49">Source</a><a href="#impl-TryRng-for-UnwrapErr%3CR%3E" class="anchor">§</a><h3 class="code-header">impl&lt;R: <a class="trait" href="trait.TryRng.html" title="trait rand_core::TryRng">TryRng</a>&gt; <a class="trait" href="trait.TryRng.html" title="trait rand_core::TryRng">TryRng</a> for <a class="struct" href="struct.UnwrapErr.html" title="struct rand_core::UnwrapErr">UnwrapErr</a>&lt;R&gt;</h3></section></summary><div class="impl-items"><section id="associatedtype.Error-2" class="associatedtype trait-impl"><a class="src rightside" href="../src/rand_core/unwrap_err.rs.html#33">Source</a><a href="#associatedtype.Error-2" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="enum.Infallible.html" title="enum rand_core::Infallible">Infallible</a></h4></section></div></details></div><script src="../trait.impl/rand_core/trait.TryRng.js" async></script></section></div></main></body></html>