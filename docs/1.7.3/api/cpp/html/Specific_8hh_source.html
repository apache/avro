<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Avro C++: api/Specific.hh Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Avro C++
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_8da6ac6a7ec7ef44ef38f503c1d56b23.html">api</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Specific.hh</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * Licensed to the Apache Software Foundation (ASF) under one</span>
<a name="l00003"></a>00003 <span class="comment"> * or more contributor license agreements.  See the NOTICE file</span>
<a name="l00004"></a>00004 <span class="comment"> * distributed with this work for additional information</span>
<a name="l00005"></a>00005 <span class="comment"> * regarding copyright ownership.  The ASF licenses this file</span>
<a name="l00006"></a>00006 <span class="comment"> * to you under the Apache License, Version 2.0 (the</span>
<a name="l00007"></a>00007 <span class="comment"> * &quot;License&quot;); you may not use this file except in compliance</span>
<a name="l00008"></a>00008 <span class="comment"> * with the License.  You may obtain a copy of the License at</span>
<a name="l00009"></a>00009 <span class="comment"> *</span>
<a name="l00010"></a>00010 <span class="comment"> *     http://www.apache.org/licenses/LICENSE-2.0</span>
<a name="l00011"></a>00011 <span class="comment"> *</span>
<a name="l00012"></a>00012 <span class="comment"> * Unless required by applicable law or agreed to in writing, software</span>
<a name="l00013"></a>00013 <span class="comment"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<a name="l00014"></a>00014 <span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<a name="l00015"></a>00015 <span class="comment"> * See the License for the specific language governing permissions and</span>
<a name="l00016"></a>00016 <span class="comment"> * limitations under the License.</span>
<a name="l00017"></a>00017 <span class="comment"> */</span>
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 <span class="preprocessor">#ifndef avro_Codec_hh__</span>
<a name="l00020"></a>00020 <span class="preprocessor"></span><span class="preprocessor">#define avro_Codec_hh__</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;map&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;algorithm&gt;</span>
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="preprocessor">#include &quot;boost/array.hpp&quot;</span>
<a name="l00028"></a>00028 
<a name="l00029"></a>00029 <span class="preprocessor">#include &quot;Config.hh&quot;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &quot;<a class="code" href="Encoder_8hh.html" title="Low level support for encoding avro values.">Encoder.hh</a>&quot;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &quot;<a class="code" href="Decoder_8hh.html" title="Low level support for decoding avro values.">Decoder.hh</a>&quot;</span>
<a name="l00032"></a>00032 
<a name="l00047"></a>00047 <span class="keyword">namespace </span>avro {
<a name="l00048"></a>00048 
<a name="l00049"></a>00049 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keywordtype">void</span> <a class="code" href="namespaceavro.html#a068734327d24a1e80caeee07b70b367f" title="Generic encoder function that makes use of the codec_traits.">encode</a>(Encoder&amp; e, <span class="keyword">const</span> T&amp; t);
<a name="l00050"></a>00050 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keywordtype">void</span> <a class="code" href="namespaceavro.html#a9893c6f7b0f264029261056da57fbd2d" title="Generic decoder function that makes use of the codec_traits.">decode</a>(Decoder&amp; d, T&amp; t);
<a name="l00051"></a>00051 
<a name="l00060"></a>00060 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00061"></a><a class="code" href="structavro_1_1codec__traits.html">00061</a> <span class="keyword">struct </span><a class="code" href="structavro_1_1codec__traits.html" title="Codec_traits tells avro how to encode and decode an object of given type.">codec_traits</a> {
<a name="l00062"></a>00062 };
<a name="l00063"></a>00063 
<a name="l00067"></a><a class="code" href="structavro_1_1codec__traits_3_01bool_01_4.html">00067</a> <span class="keyword">template</span> &lt;&gt; <span class="keyword">struct </span><a class="code" href="structavro_1_1codec__traits.html" title="Codec_traits tells avro how to encode and decode an object of given type.">codec_traits</a>&lt;bool&gt; {
<a name="l00071"></a><a class="code" href="structavro_1_1codec__traits_3_01bool_01_4.html#a282fd61ec3a8b9c4a846ee49fa59138b">00071</a>     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structavro_1_1codec__traits_3_01bool_01_4.html#a282fd61ec3a8b9c4a846ee49fa59138b" title="Encodes a given value.">encode</a>(<a class="code" href="classavro_1_1Encoder.html" title="The abstract base class for all Avro encoders.">Encoder</a>&amp; e, <span class="keywordtype">bool</span> b) {
<a name="l00072"></a>00072         e.<a class="code" href="classavro_1_1Encoder.html#a9dac9450771d09264423dda397c9ff36" title="Encodes a bool to the current stream.">encodeBool</a>(b);
<a name="l00073"></a>00073     }
<a name="l00074"></a>00074 
<a name="l00078"></a><a class="code" href="structavro_1_1codec__traits_3_01bool_01_4.html#a302ed0126c3e532139b427a5c2d49f4c">00078</a>     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structavro_1_1codec__traits_3_01bool_01_4.html#a302ed0126c3e532139b427a5c2d49f4c" title="Decodes into a given value.">decode</a>(<a class="code" href="classavro_1_1Decoder.html" title="Decoder is an interface implemented by every decoder capable of decoding Avro data.">Decoder</a>&amp; d, <span class="keywordtype">bool</span>&amp; b) {
<a name="l00079"></a>00079         b = d.<a class="code" href="classavro_1_1Decoder.html#a6fb5d57e25e6558f1efec83a1796788c" title="Decodes a bool from the current stream.">decodeBool</a>();
<a name="l00080"></a>00080     }
<a name="l00081"></a>00081 };
<a name="l00082"></a>00082 
<a name="l00086"></a><a class="code" href="structavro_1_1codec__traits_3_01int32__t_01_4.html">00086</a> <span class="keyword">template</span> &lt;&gt; <span class="keyword">struct </span><a class="code" href="structavro_1_1codec__traits.html" title="Codec_traits tells avro how to encode and decode an object of given type.">codec_traits</a>&lt;int32_t&gt; {
<a name="l00090"></a><a class="code" href="structavro_1_1codec__traits_3_01int32__t_01_4.html#a88c0c43b56b9410fd37d5a0df105bcb3">00090</a>     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structavro_1_1codec__traits_3_01int32__t_01_4.html#a88c0c43b56b9410fd37d5a0df105bcb3" title="Encodes a given value.">encode</a>(<a class="code" href="classavro_1_1Encoder.html" title="The abstract base class for all Avro encoders.">Encoder</a>&amp; e, int32_t i) {
<a name="l00091"></a>00091         e.<a class="code" href="classavro_1_1Encoder.html#a02731a348c4f6e188f06ea3baf1acd6a" title="Encodes a 32-bit int to the current stream.">encodeInt</a>(i);
<a name="l00092"></a>00092     }
<a name="l00093"></a>00093 
<a name="l00097"></a><a class="code" href="structavro_1_1codec__traits_3_01int32__t_01_4.html#adbc80b9228845a1cdf06d2b7a93487f4">00097</a>     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structavro_1_1codec__traits_3_01int32__t_01_4.html#adbc80b9228845a1cdf06d2b7a93487f4" title="Decodes into a given value.">decode</a>(<a class="code" href="classavro_1_1Decoder.html" title="Decoder is an interface implemented by every decoder capable of decoding Avro data.">Decoder</a>&amp; d, int32_t&amp; i) {
<a name="l00098"></a>00098         i = d.<a class="code" href="classavro_1_1Decoder.html#a40caf8fe0ae133f2e19542db5cf30109" title="Decodes a 32-bit int from the current stream.">decodeInt</a>();
<a name="l00099"></a>00099     }
<a name="l00100"></a>00100 };
<a name="l00101"></a>00101 
<a name="l00105"></a><a class="code" href="structavro_1_1codec__traits_3_01int64__t_01_4.html">00105</a> <span class="keyword">template</span> &lt;&gt; <span class="keyword">struct </span><a class="code" href="structavro_1_1codec__traits.html" title="Codec_traits tells avro how to encode and decode an object of given type.">codec_traits</a>&lt;int64_t&gt; {
<a name="l00109"></a><a class="code" href="structavro_1_1codec__traits_3_01int64__t_01_4.html#a711e3294ea881cc3a4090ff3810a51b8">00109</a>     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structavro_1_1codec__traits_3_01int64__t_01_4.html#a711e3294ea881cc3a4090ff3810a51b8" title="Encodes a given value.">encode</a>(<a class="code" href="classavro_1_1Encoder.html" title="The abstract base class for all Avro encoders.">Encoder</a>&amp; e, int64_t l) {
<a name="l00110"></a>00110         e.<a class="code" href="classavro_1_1Encoder.html#acc35a30b1abae65b7ee1cd7099176ec3" title="Encodes a 64-bit signed int to the current stream.">encodeLong</a>(l);
<a name="l00111"></a>00111     }
<a name="l00112"></a>00112 
<a name="l00116"></a><a class="code" href="structavro_1_1codec__traits_3_01int64__t_01_4.html#ad8b6f01abddf6e7e5918be74b988d6a6">00116</a>     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structavro_1_1codec__traits_3_01int64__t_01_4.html#ad8b6f01abddf6e7e5918be74b988d6a6" title="Decodes into a given value.">decode</a>(<a class="code" href="classavro_1_1Decoder.html" title="Decoder is an interface implemented by every decoder capable of decoding Avro data.">Decoder</a>&amp; d, int64_t&amp; l) {
<a name="l00117"></a>00117         l = d.<a class="code" href="classavro_1_1Decoder.html#a8bb879546d0c95c0b31bd644eb934973" title="Decodes a 64-bit signed int from the current stream.">decodeLong</a>();
<a name="l00118"></a>00118     }
<a name="l00119"></a>00119 };
<a name="l00120"></a>00120 
<a name="l00124"></a><a class="code" href="structavro_1_1codec__traits_3_01float_01_4.html">00124</a> <span class="keyword">template</span> &lt;&gt; <span class="keyword">struct </span><a class="code" href="structavro_1_1codec__traits.html" title="Codec_traits tells avro how to encode and decode an object of given type.">codec_traits</a>&lt;float&gt; {
<a name="l00128"></a><a class="code" href="structavro_1_1codec__traits_3_01float_01_4.html#acce03968f4a8189d467b7ff688bd6ad3">00128</a>     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structavro_1_1codec__traits_3_01float_01_4.html#acce03968f4a8189d467b7ff688bd6ad3" title="Encodes a given value.">encode</a>(<a class="code" href="classavro_1_1Encoder.html" title="The abstract base class for all Avro encoders.">Encoder</a>&amp; e, <span class="keywordtype">float</span> f) {
<a name="l00129"></a>00129         e.<a class="code" href="classavro_1_1Encoder.html#ae01a48f4379d987e62c0f5e07f9207b0" title="Encodes a single-precision floating point number to the current stream.">encodeFloat</a>(f);
<a name="l00130"></a>00130     }
<a name="l00131"></a>00131 
<a name="l00135"></a><a class="code" href="structavro_1_1codec__traits_3_01float_01_4.html#a9248c52b4b9425ba2c2703c91b519010">00135</a>     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structavro_1_1codec__traits_3_01float_01_4.html#a9248c52b4b9425ba2c2703c91b519010" title="Decodes into a given value.">decode</a>(<a class="code" href="classavro_1_1Decoder.html" title="Decoder is an interface implemented by every decoder capable of decoding Avro data.">Decoder</a>&amp; d, <span class="keywordtype">float</span>&amp; f) {
<a name="l00136"></a>00136         f = d.<a class="code" href="classavro_1_1Decoder.html#a704768e7ff55ea8736b54737a52bac4c" title="Decodes a single-precision floating point number from current stream.">decodeFloat</a>();
<a name="l00137"></a>00137     }
<a name="l00138"></a>00138 };
<a name="l00139"></a>00139 
<a name="l00143"></a><a class="code" href="structavro_1_1codec__traits_3_01double_01_4.html">00143</a> <span class="keyword">template</span> &lt;&gt; <span class="keyword">struct </span><a class="code" href="structavro_1_1codec__traits.html" title="Codec_traits tells avro how to encode and decode an object of given type.">codec_traits</a>&lt;double&gt; {
<a name="l00147"></a><a class="code" href="structavro_1_1codec__traits_3_01double_01_4.html#af7c59b9b39d837ce85e12f2a5d068eff">00147</a>     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structavro_1_1codec__traits_3_01double_01_4.html#af7c59b9b39d837ce85e12f2a5d068eff" title="Encodes a given value.">encode</a>(<a class="code" href="classavro_1_1Encoder.html" title="The abstract base class for all Avro encoders.">Encoder</a>&amp; e, <span class="keywordtype">double</span> d) {
<a name="l00148"></a>00148         e.<a class="code" href="classavro_1_1Encoder.html#aae207bdcf9a236714f8620f8d90103a7" title="Encodes a double-precision floating point number to the current stream.">encodeDouble</a>(d);
<a name="l00149"></a>00149     }
<a name="l00150"></a>00150 
<a name="l00154"></a><a class="code" href="structavro_1_1codec__traits_3_01double_01_4.html#aeae7eeb75b744f9efcea2f4feb126f60">00154</a>     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structavro_1_1codec__traits_3_01double_01_4.html#aeae7eeb75b744f9efcea2f4feb126f60" title="Decodes into a given value.">decode</a>(<a class="code" href="classavro_1_1Decoder.html" title="Decoder is an interface implemented by every decoder capable of decoding Avro data.">Decoder</a>&amp; d, <span class="keywordtype">double</span>&amp; dbl) {
<a name="l00155"></a>00155         dbl = d.<a class="code" href="classavro_1_1Decoder.html#acdd007718928920fd65b643fefb6e9ab" title="Decodes a double-precision floating point number from current stream.">decodeDouble</a>();
<a name="l00156"></a>00156     }
<a name="l00157"></a>00157 };
<a name="l00158"></a>00158 
<a name="l00162"></a><a class="code" href="structavro_1_1codec__traits_3_01std_1_1string_01_4.html">00162</a> <span class="keyword">template</span> &lt;&gt; <span class="keyword">struct </span><a class="code" href="structavro_1_1codec__traits.html" title="Codec_traits tells avro how to encode and decode an object of given type.">codec_traits</a>&lt;std::string&gt; {
<a name="l00166"></a><a class="code" href="structavro_1_1codec__traits_3_01std_1_1string_01_4.html#a998b36a1a7d4842fa8df8e9f5c37cfb7">00166</a>     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structavro_1_1codec__traits_3_01std_1_1string_01_4.html#a998b36a1a7d4842fa8df8e9f5c37cfb7" title="Encodes a given value.">encode</a>(<a class="code" href="classavro_1_1Encoder.html" title="The abstract base class for all Avro encoders.">Encoder</a>&amp; e, <span class="keyword">const</span> std::string&amp; s) {
<a name="l00167"></a>00167         e.<a class="code" href="classavro_1_1Encoder.html#a688ca5d7521bb443286df7566da56098" title="Encodes a UTF-8 string to the current stream.">encodeString</a>(s);
<a name="l00168"></a>00168     }
<a name="l00169"></a>00169 
<a name="l00173"></a><a class="code" href="structavro_1_1codec__traits_3_01std_1_1string_01_4.html#a8c19f69c8a5f66d399861d6ae681c892">00173</a>     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structavro_1_1codec__traits_3_01std_1_1string_01_4.html#a8c19f69c8a5f66d399861d6ae681c892" title="Decodes into a given value.">decode</a>(<a class="code" href="classavro_1_1Decoder.html" title="Decoder is an interface implemented by every decoder capable of decoding Avro data.">Decoder</a>&amp; d, std::string&amp; s) {
<a name="l00174"></a>00174         s = d.<a class="code" href="classavro_1_1Decoder.html#adf991b9e4d42bc0d6e992435192714ad" title="Decodes a UTF-8 string from the current stream.">decodeString</a>();
<a name="l00175"></a>00175     }
<a name="l00176"></a>00176 };
<a name="l00177"></a>00177 
<a name="l00181"></a><a class="code" href="structavro_1_1codec__traits_3_01std_1_1vector_3_01uint8__t_01_4_01_4.html">00181</a> <span class="keyword">template</span> &lt;&gt; <span class="keyword">struct </span><a class="code" href="structavro_1_1codec__traits.html" title="Codec_traits tells avro how to encode and decode an object of given type.">codec_traits</a>&lt;std::vector&lt;uint8_t&gt; &gt; {
<a name="l00185"></a><a class="code" href="structavro_1_1codec__traits_3_01std_1_1vector_3_01uint8__t_01_4_01_4.html#a78e3767908dadf9cc689d8d79c57faf5">00185</a>     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structavro_1_1codec__traits_3_01std_1_1vector_3_01uint8__t_01_4_01_4.html#a78e3767908dadf9cc689d8d79c57faf5" title="Encodes a given value.">encode</a>(<a class="code" href="classavro_1_1Encoder.html" title="The abstract base class for all Avro encoders.">Encoder</a>&amp; e, <span class="keyword">const</span> std::vector&lt;uint8_t&gt;&amp; b) {
<a name="l00186"></a>00186         e.<a class="code" href="classavro_1_1Encoder.html#aba2cb33247ac28fc523b2bddb36bace9" title="Encodes aribtray binary data into tthe current stream as Avro &quot;bytes&quot; data type.">encodeBytes</a>(b);
<a name="l00187"></a>00187     }
<a name="l00188"></a>00188 
<a name="l00192"></a><a class="code" href="structavro_1_1codec__traits_3_01std_1_1vector_3_01uint8__t_01_4_01_4.html#a9d6880b993298b8b02d2b0e5736a54a2">00192</a>     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structavro_1_1codec__traits_3_01std_1_1vector_3_01uint8__t_01_4_01_4.html#a9d6880b993298b8b02d2b0e5736a54a2" title="Decodes into a given value.">decode</a>(<a class="code" href="classavro_1_1Decoder.html" title="Decoder is an interface implemented by every decoder capable of decoding Avro data.">Decoder</a>&amp; d, std::vector&lt;uint8_t&gt;&amp; s) {
<a name="l00193"></a>00193         d.<a class="code" href="classavro_1_1Decoder.html#a50882d78ce6fe028ff03206b60231d63" title="Decodes arbitray binary data from the current stream.">decodeBytes</a>(s);
<a name="l00194"></a>00194     }
<a name="l00195"></a>00195 };
<a name="l00196"></a>00196 
<a name="l00200"></a><a class="code" href="structavro_1_1codec__traits_3_01boost_1_1array_3_01uint8__t_00_01N_01_4_01_4.html">00200</a> <span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> N&gt; <span class="keyword">struct </span><a class="code" href="structavro_1_1codec__traits.html" title="Codec_traits tells avro how to encode and decode an object of given type.">codec_traits</a>&lt;boost::array&lt;uint8_t, N&gt; &gt; {
<a name="l00204"></a><a class="code" href="structavro_1_1codec__traits_3_01boost_1_1array_3_01uint8__t_00_01N_01_4_01_4.html#a1c7ef9ce911cb9c673b81a4b6b5193f7">00204</a>     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structavro_1_1codec__traits_3_01boost_1_1array_3_01uint8__t_00_01N_01_4_01_4.html#a1c7ef9ce911cb9c673b81a4b6b5193f7" title="Encodes a given value.">encode</a>(<a class="code" href="classavro_1_1Encoder.html" title="The abstract base class for all Avro encoders.">Encoder</a>&amp; e, <span class="keyword">const</span> boost::array&lt;uint8_t, N&gt;&amp; b) {
<a name="l00205"></a>00205         e.<a class="code" href="classavro_1_1Encoder.html#a862c707fc838006a8bcbb247ffeb0cb4" title="Encodes fixed length binary to the current stream.">encodeFixed</a>(&amp;b[0], N);
<a name="l00206"></a>00206     }
<a name="l00207"></a>00207 
<a name="l00211"></a><a class="code" href="structavro_1_1codec__traits_3_01boost_1_1array_3_01uint8__t_00_01N_01_4_01_4.html#ac46bb570013844f7f09d352ec3914d06">00211</a>     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structavro_1_1codec__traits_3_01boost_1_1array_3_01uint8__t_00_01N_01_4_01_4.html#ac46bb570013844f7f09d352ec3914d06" title="Decodes into a given value.">decode</a>(<a class="code" href="classavro_1_1Decoder.html" title="Decoder is an interface implemented by every decoder capable of decoding Avro data.">Decoder</a>&amp; d, boost::array&lt;uint8_t, N&gt;&amp; s) {
<a name="l00212"></a>00212         std::vector&lt;uint8_t&gt; v(N);
<a name="l00213"></a>00213         d.<a class="code" href="classavro_1_1Decoder.html#abff413217a31b08e9f66e361b2a18b6e" title="Decodes fixed length binary from the current stream.">decodeFixed</a>(N, v);
<a name="l00214"></a>00214         <a class="code" href="namespaceavro.html#adeab3d9f5f2a4a4f96d3ffb8ba27e523" title="A convenience function to copy all the contents of an input stream into an output stream...">std::copy</a>(&amp;v[0], &amp;v[0] + N, &amp;s[0]);
<a name="l00215"></a>00215     }
<a name="l00216"></a>00216 };
<a name="l00217"></a>00217 
<a name="l00221"></a><a class="code" href="structavro_1_1codec__traits_3_01std_1_1vector_3_01T_01_4_01_4.html">00221</a> <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">struct </span><a class="code" href="structavro_1_1codec__traits.html" title="Codec_traits tells avro how to encode and decode an object of given type.">codec_traits</a>&lt;std::vector&lt;T&gt; &gt; {
<a name="l00225"></a><a class="code" href="structavro_1_1codec__traits_3_01std_1_1vector_3_01T_01_4_01_4.html#a800cd6eb7ad1a9e25b0cecd14fd72712">00225</a>     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structavro_1_1codec__traits_3_01std_1_1vector_3_01T_01_4_01_4.html#a800cd6eb7ad1a9e25b0cecd14fd72712" title="Encodes a given value.">encode</a>(<a class="code" href="classavro_1_1Encoder.html" title="The abstract base class for all Avro encoders.">Encoder</a>&amp; e, <span class="keyword">const</span> std::vector&lt;T&gt;&amp; b) {
<a name="l00226"></a>00226         e.<a class="code" href="classavro_1_1Encoder.html#a05589deffd95703c5d9ae926cf3babe4" title="Indicates that an array of items is being encoded.">arrayStart</a>();
<a name="l00227"></a>00227         <span class="keywordflow">if</span> (! b.empty()) {
<a name="l00228"></a>00228             e.<a class="code" href="classavro_1_1Encoder.html#a21783fff674cb65402c7bf8448c9b85f" title="Indicates that count number of items are to follow in the current array or map.">setItemCount</a>(b.size());
<a name="l00229"></a>00229             <span class="keywordflow">for</span> (<span class="keyword">typename</span> std::vector&lt;T&gt;::const_iterator it = b.begin();
<a name="l00230"></a>00230                 it != b.end(); ++it) {
<a name="l00231"></a>00231                 e.<a class="code" href="classavro_1_1Encoder.html#a8cbf8bb99e04f02fa0d7ebe3427193e3" title="Marks a beginning of an item in the current array or map.">startItem</a>();
<a name="l00232"></a>00232                 <a class="code" href="namespaceavro.html#a068734327d24a1e80caeee07b70b367f" title="Generic encoder function that makes use of the codec_traits.">avro::encode</a>(e, *it);
<a name="l00233"></a>00233             }
<a name="l00234"></a>00234         }
<a name="l00235"></a>00235         e.<a class="code" href="classavro_1_1Encoder.html#a4bb2e74e6423a297afd5eff7137525a9" title="Indicates that the current array of items have ended.">arrayEnd</a>();
<a name="l00236"></a>00236     }
<a name="l00237"></a>00237 
<a name="l00241"></a><a class="code" href="structavro_1_1codec__traits_3_01std_1_1vector_3_01T_01_4_01_4.html#a4673cd58de3fc3ef2929c04604c46fd7">00241</a>     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structavro_1_1codec__traits_3_01std_1_1vector_3_01T_01_4_01_4.html#a4673cd58de3fc3ef2929c04604c46fd7" title="Decodes into a given value.">decode</a>(<a class="code" href="classavro_1_1Decoder.html" title="Decoder is an interface implemented by every decoder capable of decoding Avro data.">Decoder</a>&amp; d, std::vector&lt;T&gt;&amp; s) {
<a name="l00242"></a>00242         s.clear();
<a name="l00243"></a>00243         <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> n = d.<a class="code" href="classavro_1_1Decoder.html#a6901142577da580531e1ebac610e5b49" title="Start decoding an array. Returns the number of entries in first chunk.">arrayStart</a>(); n != 0; n = d.<a class="code" href="classavro_1_1Decoder.html#a4629a6b123b1eed417879b3092ce0a82" title="Returns the number of entries in next chunk. 0 if last.">arrayNext</a>()) {
<a name="l00244"></a>00244             <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n; ++i) {
<a name="l00245"></a>00245                 T t;
<a name="l00246"></a>00246                 <a class="code" href="namespaceavro.html#a9893c6f7b0f264029261056da57fbd2d" title="Generic decoder function that makes use of the codec_traits.">avro::decode</a>(d, t);
<a name="l00247"></a>00247                 s.push_back(t);
<a name="l00248"></a>00248             }
<a name="l00249"></a>00249         }
<a name="l00250"></a>00250     }
<a name="l00251"></a>00251 };
<a name="l00252"></a>00252 
<a name="l00256"></a><a class="code" href="structavro_1_1codec__traits_3_01std_1_1map_3_01std_1_1string_00_01T_01_4_01_4.html">00256</a> <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">struct </span><a class="code" href="structavro_1_1codec__traits.html" title="Codec_traits tells avro how to encode and decode an object of given type.">codec_traits</a>&lt;std::map&lt;std::string, T&gt; &gt; {
<a name="l00260"></a><a class="code" href="structavro_1_1codec__traits_3_01std_1_1map_3_01std_1_1string_00_01T_01_4_01_4.html#aaf64ff05d9473fd67bbe0f8d64005626">00260</a>     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structavro_1_1codec__traits_3_01std_1_1map_3_01std_1_1string_00_01T_01_4_01_4.html#aaf64ff05d9473fd67bbe0f8d64005626" title="Encodes a given value.">encode</a>(<a class="code" href="classavro_1_1Encoder.html" title="The abstract base class for all Avro encoders.">Encoder</a>&amp; e, <span class="keyword">const</span> std::map&lt;std::string, T&gt;&amp; b) {
<a name="l00261"></a>00261         e.<a class="code" href="classavro_1_1Encoder.html#aa4a6889e30a8f3d42f271ae7db96d1df" title="Indicates that a map of items is being encoded.">mapStart</a>();
<a name="l00262"></a>00262         <span class="keywordflow">if</span> (! b.empty()) {
<a name="l00263"></a>00263             e.<a class="code" href="classavro_1_1Encoder.html#a21783fff674cb65402c7bf8448c9b85f" title="Indicates that count number of items are to follow in the current array or map.">setItemCount</a>(b.size());
<a name="l00264"></a>00264             <span class="keywordflow">for</span> (<span class="keyword">typename</span> std::map&lt;std::string, T&gt;::const_iterator
<a name="l00265"></a>00265                 it = b.begin();
<a name="l00266"></a>00266                 it != b.end(); ++it) {
<a name="l00267"></a>00267                 e.<a class="code" href="classavro_1_1Encoder.html#a8cbf8bb99e04f02fa0d7ebe3427193e3" title="Marks a beginning of an item in the current array or map.">startItem</a>();
<a name="l00268"></a>00268                 <a class="code" href="namespaceavro.html#a068734327d24a1e80caeee07b70b367f" title="Generic encoder function that makes use of the codec_traits.">avro::encode</a>(e, it-&gt;first);
<a name="l00269"></a>00269                 <a class="code" href="namespaceavro.html#a068734327d24a1e80caeee07b70b367f" title="Generic encoder function that makes use of the codec_traits.">avro::encode</a>(e, it-&gt;second);
<a name="l00270"></a>00270             }
<a name="l00271"></a>00271         }
<a name="l00272"></a>00272         e.<a class="code" href="classavro_1_1Encoder.html#aa5dbbf4a0389243495e0d88f66394bf8" title="Indicates that the current map of items have ended.">mapEnd</a>();
<a name="l00273"></a>00273     }
<a name="l00274"></a>00274 
<a name="l00278"></a><a class="code" href="structavro_1_1codec__traits_3_01std_1_1map_3_01std_1_1string_00_01T_01_4_01_4.html#a0b0827b5aa0efb8391b231d4561a9466">00278</a>     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structavro_1_1codec__traits_3_01std_1_1map_3_01std_1_1string_00_01T_01_4_01_4.html#a0b0827b5aa0efb8391b231d4561a9466" title="Decodes into a given value.">decode</a>(<a class="code" href="classavro_1_1Decoder.html" title="Decoder is an interface implemented by every decoder capable of decoding Avro data.">Decoder</a>&amp; d, std::map&lt;std::string, T&gt;&amp; s) {
<a name="l00279"></a>00279         s.clear();
<a name="l00280"></a>00280         <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> n = d.<a class="code" href="classavro_1_1Decoder.html#a50e8a7d7e4fd123ffc6219f75fd03175" title="Start decoding a map. Returns the number of entries in first chunk.">mapStart</a>(); n != 0; n = d.<a class="code" href="classavro_1_1Decoder.html#a06c3be19c33ce5cd04478be5f6d7e454" title="Returns the number of entries in next chunk. 0 if last.">mapNext</a>()) {
<a name="l00281"></a>00281             <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n; ++i) {
<a name="l00282"></a>00282                 std::string k;
<a name="l00283"></a>00283                 <a class="code" href="namespaceavro.html#a9893c6f7b0f264029261056da57fbd2d" title="Generic decoder function that makes use of the codec_traits.">avro::decode</a>(d, k);
<a name="l00284"></a>00284                 T t;
<a name="l00285"></a>00285                 <a class="code" href="namespaceavro.html#a9893c6f7b0f264029261056da57fbd2d" title="Generic decoder function that makes use of the codec_traits.">avro::decode</a>(d, t);
<a name="l00286"></a>00286                 s[k] = t;
<a name="l00287"></a>00287             }
<a name="l00288"></a>00288         }
<a name="l00289"></a>00289     }
<a name="l00290"></a>00290 };
<a name="l00291"></a>00291 
<a name="l00295"></a>00295 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00296"></a><a class="code" href="namespaceavro.html#a068734327d24a1e80caeee07b70b367f">00296</a> <span class="keywordtype">void</span> <a class="code" href="namespaceavro.html#a068734327d24a1e80caeee07b70b367f" title="Generic encoder function that makes use of the codec_traits.">encode</a>(<a class="code" href="classavro_1_1Encoder.html" title="The abstract base class for all Avro encoders.">Encoder</a>&amp; e, <span class="keyword">const</span> T&amp; t) {
<a name="l00297"></a>00297     <a class="code" href="namespaceavro.html#a068734327d24a1e80caeee07b70b367f" title="Generic encoder function that makes use of the codec_traits.">codec_traits&lt;T&gt;::encode</a>(e, t);
<a name="l00298"></a>00298 }
<a name="l00299"></a>00299 
<a name="l00303"></a>00303 <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<a name="l00304"></a><a class="code" href="namespaceavro.html#a9893c6f7b0f264029261056da57fbd2d">00304</a> <span class="keywordtype">void</span> <a class="code" href="namespaceavro.html#a9893c6f7b0f264029261056da57fbd2d" title="Generic decoder function that makes use of the codec_traits.">decode</a>(<a class="code" href="classavro_1_1Decoder.html" title="Decoder is an interface implemented by every decoder capable of decoding Avro data.">Decoder</a>&amp; d, T&amp; t) {
<a name="l00305"></a>00305     <a class="code" href="namespaceavro.html#a9893c6f7b0f264029261056da57fbd2d" title="Generic decoder function that makes use of the codec_traits.">codec_traits&lt;T&gt;::decode</a>(d, t);
<a name="l00306"></a>00306 }
<a name="l00307"></a>00307 
<a name="l00308"></a>00308 }   <span class="comment">// namespace avro</span>
<a name="l00309"></a>00309 <span class="preprocessor">#endif // avro_Codec_hh__</span>
<a name="l00310"></a>00310 <span class="preprocessor"></span>
<a name="l00311"></a>00311 
<a name="l00312"></a>00312 
</pre></div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 3 2012 10:11:46 for Avro C++ by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
